{"version":3,"sources":["../../../../../src/initializer/roles-assembler/route-to-role-linker/_lib/route-getter.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,CAAC,MAAe,QAAQ,CAAC;AACrC,OAAO,eAAe,MAAM,oBAAoB,CAAC;AAEjD,MAAM,CAAC,OAAO,sBAAsB,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE,QAAQ;IACvE,IAAI,IAAI,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;IAEzB,EAAE,CAAA,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QACT,MAAM,CAAC,SAAS,CAAC;IACnB,CAAC;IAEG,IAAA;;MAEF,EAFG,iBAAS,EAAE,iBAAS,CAEtB;IAEH,EAAE,CAAA,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;QACd,SAAS,GAAG,eAAe,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;QACjD,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACrC,CAAC;IAED,MAAM,CAAC,WAAW,CAAC,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC;AAC5D,CAAC","file":"route-getter.js","sourceRoot":"","sourcesContent":["import * as _          from 'lodash';\r\nimport routeSterilizer from './route-sterilizer';\r\n\r\nexport default function routeGetter(paths, roleRoute, mainRoute, roleName) {\r\n  let path = paths.shift();\r\n\r\n  if(!path) {\r\n    return roleRoute;\r\n  }\r\n  \r\n  let [roleChild, mainChild] = [roleRoute, mainRoute].map(route => {\r\n    return _.filter(route.children, {path})[0];\r\n  });\r\n\r\n  if(!roleChild) {\r\n    roleChild = routeSterilizer(mainChild, roleName);\r\n    roleRoute.children.push(roleChild);\r\n  }\r\n  \r\n  return routeGetter(paths, roleChild, mainChild, roleName);\r\n}\r\n"]}