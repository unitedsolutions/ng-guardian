{"version":3,"sources":["../../../src/role-setter/links-generator/links-generator.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,CAAC,MAAM,QAAQ,CAAC;AAE5B,MAAM,CAAC,OAAO,yBAAyB,MAAM,EAAE,KAAU,EAAE,KAAU;IAAtB,sBAAA,EAAA,UAAU;IAAE,sBAAA,EAAA,UAAU;IACnE,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,UAAA,KAAK;QACb,IAAA,iBAAI,EAAE,iBAAI,EAAE,mBAAK,EAAE,2BAAS,EAAE,yBAAQ,CAAU;QACrD,IAAI,aAAa,GAAG,cAAc,CAAC,QAAQ,EAAE,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAEjE,IAAG,IAAI,EAAE;YACP,IAAG,CAAC,SAAS,EAAE;gBACb,SAAS,GAAG,KAAK,IAAI,IAAI,CAAC;aAC3B;YAED,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAE1C,IAAI,oBAAoB,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC,CAAC;YAChE,IAAI,UAAU,GAAG,CAAC,CAAC,MAAM,CAAC,EAAC,KAAK,EAAE,SAAS,EAAE,IAAI,MAAA,EAAC,EAAE,oBAAoB,CAAC,CAAC;YAE1E,IAAG,CAAC,CAAC,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE;gBAC5B,CAAC,CAAC,MAAM,CAAC,UAAU,EAAE,EAAC,QAAQ,EAAE,aAAa,EAAC,CAAC,CAAC;aACjD;YAED,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SACxB;aAAM;YACL,KAAK,CAAC,IAAI,OAAV,KAAK,EAAS,aAAa,EAAE;SAC9B;IACH,CAAC,CAAC,CAAC;IAEH,OAAO,KAAK,CAAC;AACf,CAAC","file":"links-generator.js","sourceRoot":"","sourcesContent":["import * as _ from 'lodash';\r\n\r\nexport default function linksGenerator(routes, paths = [], links = []) {\r\n  _.each(routes, route => {\r\n    let {path, link, label, linkLabel, children} = route;\r\n    let childrenLinks = linksGenerator(children, paths.concat(path));\r\n    \r\n    if(link) {\r\n      if(!linkLabel) {\r\n        linkLabel = label || path;\r\n      }\r\n      \r\n      path = [''].concat(paths, path).join('/');\r\n      \r\n      let linkRecordProperties = _.omit(route, ['path', 'component']);     \r\n      let linkRecord = _.extend({label: linkLabel, path}, linkRecordProperties);\r\n      \r\n      if(!_.isEmpty(childrenLinks)) {\r\n        _.extend(linkRecord, {children: childrenLinks});\r\n      }\r\n      \r\n      links.push(linkRecord);\r\n    } else {\r\n      links.push(...childrenLinks);\r\n    }\r\n  });\r\n  \r\n  return links;\r\n}\r\n"]}